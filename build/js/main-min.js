"use strict";jQuery.fn.exists=function(){return $(this).length},$(function(){if(ScrollReveal({mobile:!1}),lightGallery(document.getElementById("lightgallery-cer")),$(".index-content__txt").exists())try{for(var e=document.querySelectorAll(".index-content__txt"),t=0;t<e.length;t++)$clamp(e[t],{clamp:4,useNativeClamp:!1})}catch(e){console.log(e)}if($(".index-slider").exists())try{new Swiper(".index-slider",{slidesPerView:1,spaceBetween:10,effect:"fade",fadeEffect:{crossFade:!0},pagination:{el:".swiper-pagination",clickable:!0},touchRatio:0,breakpoints:{1920:{slidesPerView:1,spaceBetween:10},640:{slidesPerView:1,spaceBetween:10,touchRatio:1},320:{slidesPerView:1,spaceBetween:10,touchRatio:1}}})}catch(e){console.log(e)}if($(".index-project__content").exists()&&$(".index-project__img").exists())try{var i=new Swiper(".index-project__content",{slidesPerView:1,spaceBetween:10,effect:"fade",fadeEffect:{crossFade:!0},pagination:{el:".project-pagination",clickable:!0}}),n=new Swiper(".index-project__img",{slidesPerView:1,spaceBetween:10,effect:"fade",fadeEffect:{crossFade:!0},navigation:{nextEl:".index-project__link--next",prevEl:".index-project__link--prev"}});i.controller.control=n,n.controller.control=i,$(".swiper-wrapper").resize(function(){$(".index__special").height($(".index-content").height())})}catch(e){console.log("Ошибка "+e.name+":"+e.message+"\n"+e.stack)}if($(".inner-slider").exists())try{var o=new Swiper(".inner-slider",{slidesPerView:1,spaceBetween:10,effect:"fade",fadeEffect:{crossFade:!0},navigation:{nextEl:".inner-slider__link--next",prevEl:".inner-slider__link--prev"},pagination:{el:".inner-slider__num",type:"custom",renderCustom:function(e,t,i){return"<span>".concat((""+(t||0)).slice(-2),"</span>")+"/<span>".concat((""+i).slice(-2),"</span>")}}})}catch(e){console.log("Ошибка "+e.name+":"+e.message+"\n"+e.stack)}if($(".index-project__example").exists())try{new Swiper(".index-project__example",{slidesPerView:3,spaceBetween:20,effect:"slide",loop:!0,fadeEffect:{crossFade:!0},navigation:{nextEl:".index-project__arr--next",prevEl:".index-project__arr--prev"}})}catch(e){console.log(e)}if($(".index-certificate__cer").exists())try{new Swiper(".index-certificate__cer",{slidesPerView:4,spaceBetween:42,effect:"slide",loop:!0,autoplay:{delay:1e3,disableOnInteraction:!1},fadeEffect:{crossFade:!0},navigation:{nextEl:".index-project__arr--snext",prevEl:".index-project__arr--sprev"},breakpoints:{922:{slidesPerView:4,spaceBetween:42,autoplay:!1},769:{slidesPerView:4,spaceBetween:42,autoplay:!1},768:{slidesPerView:3,spaceBetween:42,autoplay:!1},601:{autoplay:!1},501:{slidesPerView:3,spaceBetween:42},500:{slidesPerView:2,spaceBetween:8},320:{slidesPerView:2,spaceBetween:8}}})}catch(e){console.log(e)}if($(".index-example__slider").exists())try{new Swiper(".index-example__slider",{slidesPerView:1,effect:"fade",fadeEffect:{crossFade:!0},navigation:{nextEl:".index-project__arr--ex_next",prevEl:".index-project__arr--ex_prev"},pagination:{el:".inner-slider__num--example",type:"custom",renderCustom:function(e,t,i){return"<span>".concat((""+(t||0)).slice(-2),"</span>")+"/<span>".concat((""+i).slice(-2),"</span>")}}})}catch(e){console.log(e)}if($(".index-news__slider").exists())try{var s=new Swiper(".index-news__slider",{slidesPerView:"auto",spaceBetween:40,effect:"slide",loop:!0,autoplay:{delay:5e3},fadeEffect:{crossFade:!0},pagination:{el:".index-news__pagination",type:"progressbar"}})}catch(e){console.log(e)}if($(".index__slider").exists())try{var r,a=window.matchMedia("(min-width:641px)"),c=function(){if(!0!==a.matches)return!1===a.matches?l():void 0;void 0!==r&&r.destroy(!0,!0)},l=function(){r=new Swiper(".index__slider",{slidesPerView:1,spaceBetween:16,a11y:!0,keyboardControl:!0,grabCursor:!0,effect:"slide",slidesPerColumn:3,pagination:{el:".index__pag",clickable:!0},breakpoints:{1920:{slidesPerColumn:3,spaceBetween:16},640:{slidesPerColumn:1,slidesPerView:1,spaceBetween:16},320:{slidesPerColumn:1,slidesPerView:1,spaceBetween:16}}})};a.addListener(c),c()}catch(e){console.log(e)}if($(".button").exists())try{!function(){for(var e=document.querySelectorAll(".button"),t=function(t){e[t].addEventListener("mousemove",function(i){var n=i;this.classList.add("button-bg"),function(e,t){var i=e.getBoundingClientRect(),n=t.clientX-i.left-90,o=t.clientY-i.top-90;e.style.backgroundPosition="0 0,0 0,"+n+"px "+o+"px,0 0"}(e[t],n)}),e[t].addEventListener("mouseleave",function(){this.classList.remove("button-bg")})},i=0;i<e.length;i++)t(i)}()}catch(e){console.log(e)}function d(e,t){var i=$(e).height();$(t).css({height:i+"px"})}if($(".index-certificate__unique").exists()&&(d("#lightgallery-cer .swiper-slide",".index-certificate__unique"),$(window).on("resize load",function(){d("#lightgallery-cer .swiper-slide",".index-certificate__unique")})),$(".index-example").exists()&&f(".index-example"),$(".index-inner").exists()&&f(".index-inner"),$(".index-example .swiper-menu").on("click",".swiper-menu__item",function(){p(this,s)}),$(".index-example .swiper-menu").exists())try{$(".index-example .swiper-menu").on("click",".swiper-menu__item",function(){p(this,s)})}catch(e){console.log(e)}if($(".swiper-menu").exists())try{$(".swiper-menu").on("click",".swiper-menu__item",function(){p(this,o)})}catch(e){console.log(e)}function p(e,t){var i=e,n=$(i).data("index");t.slideTo(n);for(var o=$(i).attr("index",n),s=0;s<o.length;s++)$(i).closest(".swiper-wrapper").find(".swiper-menu").each(function(){$(this).find(".swiper-menu__item").each(function(){$(this).data("index")!=n?$(this).removeClass("swiper-menu__item--active"):$(this).addClass("swiper-menu__item--active")})})}function f(e){var t=document.querySelector(e),i=o.slides.length,n=t.querySelectorAll(".swiper-menu");if(i>0)for(var s=0;s<n.length;s++)for(var r=0;r<i;r++){var a=document.createElement("div");a.classList.add("swiper-menu__item"),a.setAttribute("data-index",r),n[s].appendChild(a),0==r&&a.classList.add("swiper-menu__item--active")}}function u(e){var t=e[0].getBoundingClientRect();return{top:t.top+pageYOffset,bottom:t.bottom+pageYOffset}}if($("[data-floor]").each(function(){$(this).on("mousemove",function(){$(this).offset().top,$(".object__inner").offset().top;var e=u($(this)),t=u($(".object__inner"));$(".module").addClass("module--active"),$(".module").css("top",e.bottom-t.top+85)}),$(this).on("mouseleave",function(){})}),$("#map").length>0){var _;mapboxgl.accessToken="pk.eyJ1Ijoic3Rhc21pcm9ub3YiLCJhIjoiY2s2dWYxZXh1MDRmcjNlb2Fxejhna2I1NSJ9.vCwZFnzz7zeC7KCQ9vmVrw",_="sochi.uralmedias.ru"==window.location.hostname?[39.723617,43.587611]:[58.98555,53.37712];var m=new mapboxgl.Map({style:"mapbox://styles/mapbox/light-v10",center:_,zoom:15.5,pitch:45,bearing:-17.6,container:"map",antialias:!0}),x={type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"Point",coordinates:_},properties:{title:"Uralmedias",description:"улица Завенягина, 1/2"}}]};"sochi.uralmedias.ru"==window.location.hostname&&(x.features[0].properties.description="ТЦ Атриум, Навагинская, дом 9д"),x.features.forEach(function(e){var t=document.createElement("div");t.className="marker",new mapboxgl.Marker(t).setLngLat(e.geometry.coordinates).addTo(m),new mapboxgl.Marker(t).setLngLat(e.geometry.coordinates).setPopup(new mapboxgl.Popup({offset:25}).setHTML("<h3>"+e.properties.title+"</h3><p>"+e.properties.description+"</p>")).addTo(m)}),m.on("load",function(){for(var e,t=m.getStyle().layers,i=0;i<t.length;i++)if("symbol"===t[i].type&&t[i].layout["text-field"]){e=t[i].id;break}m.addLayer({id:"3d-buildings",source:"composite","source-layer":"building",filter:["==","extrude","true"],type:"fill-extrusion",minzoom:15,paint:{"fill-extrusion-color":"#aaa","fill-extrusion-height":["interpolate",["linear"],["zoom"],15,0,15.05,["get","height"]],"fill-extrusion-base":["interpolate",["linear"],["zoom"],15,0,15.05,["get","min_height"]],"fill-extrusion-opacity":.6}},e)})}if($(".form-project__field").exists&&$(".form-project__field").each(function(){var e=this;$(this).on("mousemove",function(){$(e).closest(".form-project__block").addClass("form-project__block--active")}),$(this).on("mouseleave",function(){$(e).is(":focus")||$(e).val()||$(e).closest(".form-project__block").removeClass("form-project__block--active")}),$(this).on("blur",function(){$(this).val()||$(this).closest(".form-project__block").removeClass("form-project__block--active")})}),$(".project-period__bloc").on("click",function(){$(".project-period__box").toggleClass("project-period__box--active")}),$(".project-period__slider").exists())try{var w=new Swiper(".project-period__slider",{slidesPerView:"1",spaceBetween:40,effect:"slide",fadeEffect:{crossFade:!0},pagination:{el:".index-news__pagination",type:"progressbar"}})}catch(e){console.log(e)}$(".project-period__unit").each(function(){var e=0,t=0;$(this).on("click",function(){$(".project-period__text").text($(this).text()),$(".project-period__box").removeClass("project-period__box--active"),e=$(this).find("input").data("period"),$(".project-period__slider .swiper-slide").each(function(){if((t=$(this).data("slide"))==e)return w.slideTo(t-1),!1})})}),w.on("mouseover",function(){alert(w.activeIndex)})});