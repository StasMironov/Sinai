"use strict";jQuery.fn.exists=function(){return $(this).length},ScrollReveal({mobile:!1});var projectFunc={arrTitle:"",ObjAd:function(e,t){$(e).each(function(e){var i=$(this).html();$(t).html(i),$(this).remove()})},fixMap:function(e,t,i){var a=$(window),s=$(e),n=s.offset().top;a.on("scroll",function(){if((window.pageYOffset||document.documentElement.scrollTop)>n){s.addClass("map-fixed");var a=$(window).scrollTop(),o=$(window).height(),l=$(t).offset().top,r=$(t).outerHeight(),c=$(document).height();a+o>=l||o+a==c||r+l<o?($(e).removeClass("map-fixed"),$(i).addClass("map-end")):($(e).addClass("map-fixed"),$(i).removeClass("map-end"))}else s.removeClass("map-fixed")})},createMap:function(e,t){if($("#".concat(e)).exists()){var i=$("#".concat(e)).data("center"),a=[];mapboxgl.accessToken="pk.eyJ1IjoiYWRtaW5zaW5haSIsImEiOiJja2N2czJ2ejcwNzdoMzBtbDVneTh6NTNkIn0.pkiEoq-UDjbqvdDrB_zZCQ";var s=!1,n=i,o=new mapboxgl.Map({container:e,style:"mapbox://styles/mapbox/light-v10",center:n,zoom:15.9,attributionControl:!1});if(o.scrollZoom.disable(),o.addControl(new mapboxgl.NavigationControl({showCompass:!1,showZoom:!0})),$(t).exists()){var l=0;try{var r=function(e){return o.flyTo({center:c[e],zoom:15.9,bearing:0,essential:!0}),o.fire("flystart"),e};$(t).each(function(){var e=$(this).data("coordinates"),t=document.createElement("div"),i=(new DOMParser).parseFromString('<svg width="80" height="80" viewBox="0 0 118 118" fill="none" xmlns="http://www.w3.org/2000/svg"><rect class="rect" y="59" width="83.4386" height="83.4386" transform="rotate(-45 0 59)" fill="#40424C"/><path d="M68.2258 75.368V45.0131C68.2258 44.0275 67.4259 43.2275 66.4402 43.2275H52.1556C51.1699 43.2275 50.37 44.0275 50.37 45.0131V75.368" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>                <path d="M50.3699 53.9409H43.2276C42.242 53.9409 41.442 54.7409 41.442 55.7265V75.3679" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>                <path d="M77.1537 75.3679V55.7265C77.1537 54.7409 76.3538 53.9409 75.3682 53.9409H68.2258" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/><path d="M54.8339 68.2256H63.7618" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/><path d="M61.9763 68.2256V75.3679" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/><path d="M56.6195 75.3679V68.2256" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/><path d="M55.7267 56.6194H62.869" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/><path d="M55.7267 61.976H62.869" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/><path d="M55.7267 51.2627H62.869" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/><path d="M46.7988 61.976H50.37" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/><path d="M46.7988 68.2256H50.37" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/><path d="M68.2258 61.976H71.797" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/><path d="M68.2258 68.2256H71.797" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/> <path d="M78.9393 75.3679H39.6565" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>',"application/xml");t.appendChild(t.ownerDocument.importNode(i.documentElement,!0)),t.className="marker",a.push(t),new mapboxgl.Marker(t).setLngLat(e).addTo(o)});var c=[];$(t).each(function(e){a[e].setAttribute("data-href",$(this).data("href")),null!=$(this).data("coordinates")&&c.push($(this).data("coordinates")),$(this).hover(function(){r(e),l=r(e)})}),o.on("moveend",function(e){if(s){a[l].classList.add("marker--active");for(var t=0;t<a.length;t++)t!=l&&a[t].classList.remove("marker--active");o.fire("flyend")}}),o.on("flystart",function(){s=!0}),o.on("flyend",function(){s=!1}),a.forEach(function(e){e.addEventListener("click",function(){var e=this.getAttribute("data-href");location=e})})}catch(e){console.log(e)}}}},plateGen:function(){if($("#plate").exists()){e=function(e){var t=JSON.parse(e),i=document.getElementById("plate");for(var a in t.entrances){var s=document.createElement("div"),n=document.createElement("div"),o=document.createElement("div");s.setAttribute("class","plate-box__item"),o.setAttribute("class","plate-box__grid"),n.setAttribute("class","plate-box__label"),s.append(o),s.append(n),i.append(s),n.textContent=a;for(var l=t.entrances[a].floors,r=Object.keys(l).reverse(),c=0;c<r.length;c++){var d=l[r[c]].flats,p=document.createElement("div");p.setAttribute("class","plate-box__case"),o.append(p);for(var u=0;u<d.length;u++){var _=document.createElement("div"),f=d[u].status;_.setAttribute("class","plate-box__flat");var m={status:d[u].statusName,rooms:d[u].rooms,about:d[u].about,scheme:d[u].scheme,price:d[u].price,floor:c};switch(m=JSON.stringify(m),_.setAttribute("data-flat",m),_.textContent=d[u].rooms,p.append(_),f){case 1:_.classList.add("plate-box__flat--free");break;case 2:_.classList.add("plate-box__flat--take");break;case 3:_.classList.add("plate-box__flat--sold");break;case 4:_.classList.add("plate-box__flat--booked")}}}}$(".plate-box__flat").exists()&&(!0==!window.matchMedia("(min-width:641px)").matches&&($(".plate-box__flat").each(function(){$(this).on("click",function(){$(".overlay-plate").addClass("overlay-plate--show");var e=$(this).data("flat"),t="".concat(e.rooms,"к квартира"),i=e.status,a=e.about,s=e.scheme,n="от ".concat(e.price," млн");$(".popup-plate__unit--room").text(t),$(".popup-plate__unit--price").text(n),$(".popup-plate__status").text(i),$(".popup-plate__link--about").attr("href",a),$(".popup-plate__link--scheme").attr("href",s)})}),$(".overlay-plate").exists()&&$(".overlay-plate").click(function(e){-1!=e.target.className.indexOf("overlay-plate")&&($(this).removeClass("overlay-plate--show"),$("html").css("overflow","auto"),$(".overlay-plate").removeClass("overlay-plate--show"))}),$(".popup-plate__close").exists()&&$(".popup-plate___close").click(function(e){$(".overlay-plate").removeClass("overlay-plate--show")})),!0==!window.matchMedia("(max-width: 640px)").matches&&$(".plate-box__flat").each(function(){$(this).on("mouseenter",function(){var e=$(".plate-box__canvas").position().top-70,t=$(".plate-box__canvas").position().left-385,i=window.matchMedia("(min-width:1236px)"),a=window.matchMedia("(min-width:1025px)");!0==!i.matches&&(t=$(".plate-box__canvas").position().left-120,e=$(".plate-box__canvas").position().top-184),!0==!a.matches&&(t=$(".plate-box__canvas").position().left-125,e=$(".plate-box__canvas").position().top-175);$(this).append('<div class="plate-popup"><div class="plate-popup__inner"><div class="plate-popup__top"><div class="plate-popup__unit plate-popup__unit--qty">2к квартира</div><div class="plate-popup__unit plate-popup__unit--price">от 2,5 млн</div></div><div class="plate-popup__bottom"><div class="plate-popup__status">Свободно</div><div class="plate-popup__func"><a class="plate-popup__link plate-popup__link--about" href="javascript:void(0);">Подробнее</a><a class="plate-popup__link plate-popup__link--scheme" href="javascript:void(0);">Планировка</a></div></div></div></div>'),$(".plate-popup").addClass("plate-popup--show").css({top:e,left:t});var s=$(this).data("flat"),n="".concat(s.rooms,"к квартира"),o=s.status,l=s.about,r=s.scheme,c="от ".concat(s.price," млн");$(".plate-popup__unit--qty").text(n),$(".plate-popup__unit--price").text(c),$(".plate-popup__status").text(o),$(".plate-popup__link--about").attr("href",l),$(".plate-popup__link--scheme").attr("href",r)}),$(this).on("mouseleave",function(){$(".plate-popup").remove()})}))},t=$("#plate").data("plate"),(i=new XMLHttpRequest).overrideMimeType("application/json"),i.open("GET",t,!0),i.onreadystatechange=function(){4==i.readyState&&"200"==i.status&&e(i.responseText)},i.send(null)}var e,t,i},showPeriod:function(e){if($(e).exists())try{var t=new Swiper(e,{slidesPerView:"1",spaceBetween:40,effect:"fade",autoplay:{delay:5e3},fadeEffect:{crossFade:!0},pagination:{el:".inner-slider__num",type:"custom",renderCustom:function(e,t,i){return"<span>".concat((""+(t||0)).slice(-2),"</span>")+"/<span>".concat((""+i).slice(-2),"</span>")}},navigation:{nextEl:".inner-slider__link--next",prevEl:".inner-slider__link--prev"}});return $(".project-period__unit").exists()&&$(".project-period__unit").each(function(){$(this).on("click",function(){$(".project-period__text").text($(this).text()),$(".project-period__box").removeClass("project-period__box--active")})}),t}catch(e){console.log(e)}},linkFloors:function(){var e=this.getAttribute("data-url");document.location.host,location.assign(document.location.origin+e)},urlGenerator:function(e,t){var i=document.location.search,a=!1;if(""!==i){var s=i.replace(/^\?/,"").split("&").map(function(i){return(i=i.split("="))[0]==e?(a=!0,i[0]+"="+t):i[0]+"="+i[1]});i="?";for(var n=0;n<s.length;n++)i+=0==n?s[n]:"&"+s[n];a||(i+="&"+e+"="+t)}else i+="?"+e+"="+t;history.pushState(null,null,document.location.pathname+i)},globalProps:{arrSlider:[]},rangeSlider:function(e,t,i,a,s,n,o,l,r){if($(e).exists())try{var c=document.querySelector(e);$(e).closest(r).find(".building-filter__range");noUiSlider.create(c,{start:[a,s],connect:!0,step:n,format:wNumb({decimals:0}),range:{min:t,max:i}}),projectFunc.globalProps.arrSlider.push(c);var d=$(e).closest(r),p=[$(d).find(".building-filter__up"),$(d).find(".building-filter__low")];return c.noUiSlider.on("update",function(e,t){$(p[t]).text(e[t]),$(o).val(e[0]).change(),$(l).val(e[1]).change()}),c}catch(e){console.log(e)}},checkVal:function(e,t,i){var a=$(t).closest(".flats-calc__item").find(".flats-calc__block").data("min");return""!=$(e).val()&&(a=$(i).val()),a},checkInput:function(e,t,i,a){$(e).exists()&&(projectFunc.calcPay(projectFunc.checkVal(e,"#price","#send-result-price-min"),projectFunc.checkVal(e,"#donat","#send-result-donat-min"),projectFunc.checkVal(e,"#period","#send-result-period-min"),projectFunc.checkVal(e,"#savings","#send-result-savings-min")),$(e).on("change",function(){$(this).val()>i?(a.noUiSlider.set(i),$(this).val(i)):$(this).val()<t||0==$(this).val()?(a.noUiSlider.set(t),$(this).val(t)):a.noUiSlider.set($(this).val()),a.noUiSlider.set([this.value,null]),a.noUiSlider.on("update",function(t,i){$(e).val(t[0])}),projectFunc.calcPay(projectFunc.checkVal(e,"#price","#send-result-price-min"),projectFunc.checkVal(e,"#donat","#send-result-donat-min"),projectFunc.checkVal(e,"#period","#send-result-period-min"),projectFunc.checkVal(e,"#savings","#send-result-savings-min"))}),a.noUiSlider.on("slide",function(t,i){$(e).val(t[0]),projectFunc.calcPay(projectFunc.checkVal(e,"#price","#send-result-price-min"),projectFunc.checkVal(e,"#donat","#send-result-donat-min"),projectFunc.checkVal(e,"#period","#send-result-period-min"),projectFunc.checkVal(e,"#savings","#send-result-savings-min"))}),"#flats-savings"===e&&a.noUiSlider.set(i))},calcPay:function(e,t,i){var a,s=0,n=0,o=12*i,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;a=e-t,$('[data-name="savings"]').prop("checked")?(n=(n=4.85/12/100*Math.pow(1+4.85/12/100,o)/(Math.pow(1+4.85/12/100,o)-1)).toFixed(5),a=a-(l-(a*(4.85/12/100)*(30/365)+(s=Math.ceil(n*a))))-s,n=4.85/12/100*Math.pow(1+4.85/12/100,o)/(Math.pow(1+4.85/12/100,o)-1),s=Math.ceil(n*a),$("#calc-rezult").val(s)):(n=(n=4.85/12/100*Math.pow(1+4.85/12/100,o)/(Math.pow(1+4.85/12/100,o)-1)).toFixed(5),s=Math.ceil(n*a),$("#calc-rezult").val(s))},setRange:function(e,t,i){var a=t,s=i;ds&&null!==localStorage.getItem(ds.id)&&JSON.parse(localStorage.getItem(ds.id)).forEach(function(t,i){switch(t[0]=="send-".concat(e,"-max")&&t[1]>0&&(s=t[1]),t[0]){case"send-".concat(e,"-min"):a=t[1];break;case"send-".concat(e,"-max"):t[1]>0&&(s=t[1])}});return[a,s]}};if($("#ds_form").exists())try{var ds="";(ds=document.getElementById("ds_form")).onchange=function(){var e=JSON.stringify(Array.from(new FormData(ds)));localStorage.setItem(ds.id,e)},document.addEventListener("DOMContentLoaded",function(){var e=JSON.parse(localStorage.getItem(ds.id));if(e)for(var t=0;t<e.length;++t){var i=ds[e[t][0]];NodeList.prototype.isPrototypeOf(i)?i.forEach(function(t,i){e.forEach(function(i,a){e[a][1]==t.value&&e[a][0]==t.name&&t.setAttribute("checked","")})}):"checkbox"===i.type?i.setAttribute("checked",""):i.value=e[t][1]}})}catch(e){console.log(e)}if($("#ds_landplot").exists())try{ds="";(ds=document.getElementById("ds_landplot")).onchange=function(){var e=JSON.stringify(Array.from(new FormData(ds)));localStorage.setItem(ds.id,e)},document.addEventListener("DOMContentLoaded",function(){var e=JSON.parse(localStorage.getItem(ds.id));if(e)for(var t=0;t<e.length;++t){var i=ds[e[t][0]];NodeList.prototype.isPrototypeOf(i)?i.forEach(function(t,i){e.forEach(function(i,a){e[a][1]==t.value&&e[a][0]==t.name&&t.setAttribute("checked","")})}):"checkbox"===i.type?i.setAttribute("checked",""):i.value=e[t][1]}})}catch(e){console.log(e)}document.addEventListener("DOMContentLoaded",function(e){if(null!==localStorage.getItem("titleCol")){projectFunc.arrTitle=JSON.parse(localStorage.getItem("titleCol"));var t=document.querySelectorAll(".building-filter__col"),i=JSON.parse(localStorage.getItem("titleCol"));t.forEach(function(e,t){i.forEach(function(t,a){e.getAttribute("data-id")==i[a].id&&$(e).find(".building-filter__text").text(i[a].title)})})}else projectFunc.arrTitle=[];navigator.userAgent.match(/Version\/[\d\.]+.*Safari/);if($(".index-slider").exists())try{new Swiper(".index-slider",{slidesPerView:1,spaceBetween:10,effect:"fade",fadeEffect:{crossFade:!0},pagination:{el:".swiper-pagination",clickable:!0},touchRatio:0,breakpoints:{1920:{slidesPerView:1,spaceBetween:10},640:{slidesPerView:1,spaceBetween:10,touchRatio:1},320:{slidesPerView:1,spaceBetween:10,touchRatio:1}}})}catch(e){console.log(e)}function a(e,t){$(e).each(function(e){var i=$(this).html();$(t).html(i),$(this).remove()})}if($(".inner-slider .mf-include"))try{!0==!window.matchMedia("(min-width:641px)").matches&&a(".inner-slider .mf-element",".inner-slider .mf-include")}catch(e){console.log(e)}if($(".index-example .mf-include"))try{!0==!window.matchMedia("(min-width:641px)").matches&&a(".index-example .mf-element",".index-example .mf-include")}catch(e){console.log(e)}if($(".footer__bloc"))try{!0==!window.matchMedia("(min-width:641px)").matches&&a(".footer__bloc--share",".footer__share")}catch(e){console.log(e)}if($(".footer__bloc"))try{!0==!window.matchMedia("(min-width:641px)").matches&&a(".footer__bloc--share",".footer__share")}catch(e){console.log(e)}if($(".footer__ref--phone").exists())try{!0==!window.matchMedia("(min-width:1125px)").matches&&a(".footer__ref--phone",".footer__ph")}catch(e){console.log(e)}if($("#aside").exists())try{!0==!window.matchMedia("(min-width:769px)").matches&&a("#aside","#insert")}catch(e){console.log(e)}}),$(function(){(projectFunc.showPeriod(".project-period__slider"),projectFunc.plateGen(),$(".btn--share").exists()&&$(".btn--share").on("click",function(){$(".overlay-share").addClass("overlay-share--show"),$("html").css("overflow","hidden")}),$(".popup-share__close").exists()&&$(".popup-share__close").on("click",function(){$(".overlay-share").removeClass("overlay-share--show"),$("html").css("overflow","auto")}),$(".overlay-share").exists()&&$(".overlay-share").click(function(e){-1!=e.target.className.indexOf("overlay-share")&&($(this).removeClass("overlay-share--show"),$("html").css("overflow","auto"))}),$(".plate-box__right").exists()&&$(window).on("resize load",function(){$(this).width()<=1300?$(".plate-box__right").mCustomScrollbar({theme:"dark",mouseWheelPixels:90,axis:"x"}):$(".plate-box__right").mCustomScrollbar("destroy")}),$(".index-project__item").exists()&&ScrollReveal().reveal(".index-project__item",{delay:600,interval:600,distance:"150px",enter:"bottom",origin:"bottom",duration:600,easing:"ease-in",mobile:!1}),$(".index-project__unit .title-2").exists()&&ScrollReveal().reveal(".index-project__unit .title-2",{delay:500,enter:"center",origin:"center",duration:500,easing:"ease-in",mobile:!1}),$(".index-project__paragraph").exists()&&ScrollReveal().reveal(".index-project__paragraph",{delay:800,interval:600,enter:"center",origin:"center",duration:600,easing:"ease-in",mobile:!1}),$(".index-certificate__left").exists()&&ScrollReveal().reveal(".index-certificate__left",{delay:1e3,interval:600,distance:"150px",enter:"left",origin:"left",duration:600,easing:"ease-in",mobile:!1}),$(".index-news__info").exists()&&ScrollReveal().reveal(".index-news__info",{delay:500,interval:500,enter:"center",origin:"center",duration:500,easing:"ease-in",mobile:!1}),$(".flats-basic__item").exists()&&gsap.from(".flats-basic__item",{scale:0,ease:"sine.out",opacity:0,stagger:.8,duration:.8}),$(".news__item").exists()&&gsap.from(".news__item",{scale:0,ease:"sine.out",opacity:0,stagger:.8,duration:.8}),$(".trade__tiitle").exists())&&gsap.timeline().fromTo(".trade__tiitle",{opacity:0,y:-100},{duration:1,opacity:1,y:0,delay:.5}).fromTo(".trade__txt",{opacity:0,y:-100},{duration:1,opacity:1,y:0,stagger:1});if($(".about__item").exists()){var e=gsap.timeline();gsap.set(".about__item",{opacity:0,x:-100}),gsap.set(".about__quote",{opacity:0,y:-100}),e.to(".about__item",{scale:1,ease:"sine.out",opacity:1,stagger:.8,duration:.8,delay:.5,x:0}).to(".about__quote",{duration:.8,opacity:1,y:0})}if($(".header__inner").exists)try{var t=$(window),i=$(".header__inner"),a=i.offset().top;t.on("scroll",function(){(window.pageYOffset||document.documentElement.scrollTop)>a?i.addClass("mf-scroll"):i.removeClass("mf-scroll")})}catch(e){console.log(e)}if($("#btnUp").exists()){var s=$("#btnUp");$(window).scroll(function(){$(window).scrollTop()>300?s.addClass("showBtn"):s.removeClass("showBtn")}),s.on("click",function(e){e.preventDefault(),$("html, body").animate({scrollTop:0},"300")})}if($(".menu__item--menu").exists()&&$(".menu__item--menu").on("click",function(){$(this).toggleClass("menu__item--active");var e=0;$(".menu__ref").each(function(){e+=$(this).outerHeight()}),$(".menu__sub").hasClass("menu__sub--active")?$(".menu__sub").removeClass("menu__sub--active").css({"max-height":0}):$(".menu__sub").addClass("menu__sub--active").css({"max-height":e})}),$(".burger").length>0&&$(".burger").on("click",function(){$(this).toggleClass("burger--active"),$(".menu").toggleClass("menu--show"),$("html").css("overflow","hidden");var e=0;$(".menu__item").each(function(t){e+=70*t}),$(".menu__item").exists()&&($(".menu__item").each(function(e){$(this).delay(150*e).animate({opacity:"1"},150)}),setTimeout(function(){$(".header .share-bloc__items").addClass("share-bloc__items--active").removeClass("share-bloc__items--mf")},e))}),$(".index__left").exists()&&$(".index__left").each(function(e){e%2==0&&0!=e?ScrollReveal().reveal($(".index__left")[e],{enter:"left",origin:"left",duration:1500,distance:"150px",easing:"ease-in-out",mobile:!1}):0!=e&&e%2!=0&&ScrollReveal().reveal($(".index__left")[e],{enter:"right",origin:"right",duration:1e3,distance:"150px",easing:"ease-in",mobile:!1})}),$(".index__info").exists()&&ScrollReveal().reveal(".index__info",{delay:600,distance:"150px",enter:"bottom",origin:"bottom",duration:1e3,easing:"ease-in",mobile:!1},ScrollReveal().reveal(".index__right",{delay:1500,distance:"150px",enter:"bottom",origin:"bottom",duration:1e3,easing:"ease-in-out",mobile:!1})),$(".menu__close").exists()&&$(".menu__close").on("click",function(){$(".burger").toggleClass("burger--active"),$(".menu").toggleClass("menu--show"),$(".menu__item--menu").removeClass("menu__item--active"),$("html").css("overflow","auto"),$(".menu__sub").removeClass("menu__sub--active").css({"max-height":0}),$(".burger").hasClass("burger--active")||$(".menu__item").animate({opacity:"0"},.001),$(".header .share-bloc__items").removeClass("share-bloc__items--active").addClass("share-bloc__items--mf")}),$(".header__item--menu").exists()&&($(".header__item--menu").on("mouseenter",function(){$(this).find(".header__link").addClass("header__link--hover")}),$(".header__item--menu").on("mouseleave",function(){$(this).find(".header__link").removeClass("header__link--hover")})),$(".overlay").exists()&&$(".overlay").click(function(e){-1!=e.target.className.indexOf("overlay")&&($(this).removeClass("overlay--show"),$("html").css("overflow","auto"),$(".popup").removeClass("popup--show"))}),$(".menu").exists()&&$(".menu").click(function(e){-1!=e.target.className.indexOf("menu--show")&&($(".burger").removeClass("burger--active"),$("html").css("overflow","auto"),$(".menu").removeClass("menu--show"),$(".burger").hasClass("burger--active")||($(".menu__item").animate({opacity:"0"},.001),$(".header .share-bloc__items").removeClass("share-bloc__items--active").addClass("share-bloc__items--mf")))}),$("#price").exists()){var n=$("#price").closest(".flats-calc__item").find(".flats-calc__block").data("min"),o=$("#price").closest(".flats-calc__item").find(".flats-calc__block").data("max"),l=$("#price").closest(".flats-calc__bloc").find(".flats-calc__block").data("min"),r=$("#price").closest(".flats-calc__bloc").find(".flats-calc__block").data("max"),c=projectFunc.setRange("price",l,r),d=projectFunc.rangeSlider("#price",n,o,c[0],c[1],1e4,"#send-result-price-min","#send-result-price-max",".flats-calc__item");$("#flat-price").val(n),projectFunc.checkInput("#flat-price",n,o,d)}if($("#donat").exists()&&$("#price").exists())try{$("#price").closest(".flats-calc__item").find(".flats-calc__block").data("min");var p=$("#donat").closest(".flats-calc__item").find(".flats-calc__block").data("min"),u=$("#donat").closest(".flats-calc__item").find(".flats-calc__block").data("max"),_=$("#donat").closest(".flats-calc__bloc").find(".flats-calc__block").data("min"),f=$("#donat").closest(".flats-calc__bloc").find(".flats-calc__block").data("max"),m=projectFunc.setRange("donat",_,f),h=projectFunc.rangeSlider("#donat",p,u,m[0],m[1],1e3,"#send-result-donat-min","#send-result-donat-max",".flats-calc__item");$("#flats-donat").val(p),projectFunc.checkInput("#flats-donat",p,u,h)}catch(e){console.log(e)}if($("#period").exists()){var v=$("#period").closest(".flats-calc__item").find(".flats-calc__block").data("min"),g=$("#period").closest(".flats-calc__item").find(".flats-calc__block").data("max"),w=$("#period").closest(".flats-calc__bloc").find(".flats-calc__block").data("min"),x=$("#period").closest(".flats-calc__bloc").find(".flats-calc__block").data("max"),b=projectFunc.setRange("period",w,x),k=projectFunc.rangeSlider("#period",v,g,b[0],b[1],1,"#send-result-period-min","#send-result-period-max",".flats-calc__item");$("#flats-period").val(v),projectFunc.checkInput("#flats-period",v,g,k)}if($("#savings").exists()){var y=$("#savings").closest(".flats-calc__item").find(".flats-calc__block").data("min"),j=$("#savings").closest(".flats-calc__item").find(".flats-calc__block").data("max"),C=$("#savings").closest(".flats-calc__bloc").find(".flats-calc__block").data("min"),P=$("#savings").closest(".flats-calc__bloc").find(".flats-calc__block").data("max"),S=projectFunc.setRange("savings",C,P),V=projectFunc.rangeSlider("#savings",y,j,S[0],S[1],1,"#send-result-savings-min","#send-result-savings-max",".flats-calc__item");$("#flats-savings").val(j),projectFunc.checkInput("#flats-savings",y,j,V)}if($(".structure__items--projects").exists()&&$(".structure__items--projects").mCustomScrollbar({theme:"minimal-dark",mouseWheelPixels:400,callbacks:{onTotalScroll:function(){console.log("End")}}}),$(".second-flats__items").exists()&&$(window).on("resize load",function(){$(this).width()>=768&&$(".second-flats__items").mCustomScrollbar({theme:"minimal-dark",mouseWheelPixels:500,callbacks:{onTotalScroll:function(){console.log("End")}}})}),$('[data-name="savings"]').on("click",function(){$(this).prop("checked")?($(".flats-calc__row--savings").addClass("flats-calc__row--active"),projectFunc.calcPay(projectFunc.checkVal("#flat-price","#price","#send-result-price"),projectFunc.checkVal("#flats-donat","#donat","#send-result-donat"),projectFunc.checkVal("#flats-period","#period","#send-result-period"),projectFunc.checkVal("#flats-savings","#savings","#send-result-savings"))):$(".flats-calc__row--savings").removeClass("flats-calc__row--active")}),$(".ads__slider").exists())try{new Swiper(".ads__slider",{spaceBetween:20,slidesPerView:3,autoHeight:!0,loop:!0,pagination:{el:".swiper-pagination",type:"progressbar"},autoplay:{delay:5e3},breakpoints:{320:{slidesPerView:1,spaceBetween:20,slidesPerColumn:2,slidesPerColumnFill:"row",autoHeight:!1,loop:!1},500:{slidesPerView:2,spaceBetween:20,loop:!1},993:{slidesPerView:3,spaceBetween:20},1920:{slidesPerView:3,spaceBetween:20}}})}catch(e){console.log(e)}if($(".form-project").exists()&&$(".call-help").each(function(){var e=$(this).find(".form-project__field"),t=$(this).find(".call-help__btn"),i=$(this).find(".form-project");$(t).on("click",function(){$(i).submit()}),$(e).each(function(){$(this).on("input change",function(){var i;i=0,$(e).each(function(){""==$(this).val()&&i++}),0==i?$(t).prop("disabled",!1):$(t).prop("disabled",!0)})})}),$("#plan-slider").exists())try{new Swiper("#plan-slider",{spaceBetween:20,slidesPerView:"auto",autoHeight:!0,navigation:{nextEl:".index-project__link--pf_next",prevEl:".index-project__link--pf_prev"},pagination:{el:".project-period__pagination",clickable:!0},breakpoints:{1920:{spaceBetween:20,slidesPerView:4},1025:{spaceBetween:20,slidesPerView:4},1024:{slidesPerView:2,spaceBetween:20},993:{slidesPerView:2,spaceBetween:20},992:{slidesPerView:1.4,spaceBetween:20},769:{slidesPerView:1.4,spaceBetween:20},768:{slidesPerView:2,spaceBetween:20},621:{slidesPerView:2,spaceBetween:20},620:{slidesPerView:1,spaceBetween:20},320:{slidesPerView:1,spaceBetween:20}}})}catch(e){console.log(e)}if($(".certificate__slider").exists())try{new Swiper(".certificate__slider",{spaceBetween:24,slidesPerView:5,touchRatio:0,slidesPerColumn:2,slidesPerColumnFill:"row",autoplay:{delay:3e3},breakpoints:{1025:{slidesPerView:5,spaceBetween:24},1024:{slidesPerView:4,spaceBetween:24,touchRatio:1},641:{slidesPerView:4,spaceBetween:24,touchRatio:1},640:{slidesPerView:3,spaceBetween:24,touchRatio:1},501:{slidesPerView:3,spaceBetween:24,touchRatio:1},500:{slidesPerView:2,spaceBetween:10,touchRatio:1,slidesPerColumn:1},320:{slidesPerView:2,spaceBetween:10,touchRatio:1,slidesPerColumn:1}}})}catch(e){console.log(e)}if($(".partner__slider").exists())try{new Swiper(".partner__slider",{spaceBetween:110,slidesPerView:"auto",loop:!0,autoplay:{delay:5e3},breakpoints:{1920:{spaceBetween:110,slidesPerView:"auto"},1301:{spaceBetween:110,slidesPerView:"auto"},1300:{spaceBetween:40,slidesPerView:4,loop:!1},1025:{spaceBetween:40,slidesPerView:4},1024:{slidesPerView:4,spaceBetween:40,slidesPerColumn:2,slidesPerColumnFill:"row",touchRatio:0},769:{slidesPerView:4,spaceBetween:40,slidesPerColumn:2,slidesPerColumnFill:"row",touchRatio:0},768:{slidesPerView:3,spaceBetween:18,slidesPerColumn:2,slidesPerColumnFill:"row",touchRatio:0},501:{slidesPerView:3,spaceBetween:18,slidesPerColumn:2,slidesPerColumnFill:"row",touchRatio:0},500:{slidesPerView:2,spaceBetween:18,slidesPerColumn:3,slidesPerColumnFill:"row",touchRatio:0},320:{slidesPerView:2,spaceBetween:18,slidesPerColumn:3,slidesPerColumnFill:"row",touchRatio:0}}})}catch(e){console.log(e)}if($("#cost").exists()){var F=$("#cost").closest(".building-filter__col").find(".building-filter__range").data("min"),B=$("#cost").closest(".building-filter__col").find(".building-filter__range").data("max"),E=$("#cost").closest(".building-filter__col").find(".building-filter__range").data("min"),M=$("#cost").closest(".building-filter__col").find(".building-filter__range").data("max"),R=projectFunc.setRange("cost",E,M);projectFunc.rangeSlider("#cost",F,B,R[0],R[1],1e5,"#send-result-сost-min","#send-result-сost-max",".building-filter__col")}if($("#area").exists()){var T=$("#area").closest(".building-filter__col").find(".building-filter__range").data("min"),I=$("#area").closest(".building-filter__col").find(".building-filter__range").data("max"),A=$("#area").closest(".building-filter__col").find(".building-filter__range").data("min"),O=$("#area").closest(".building-filter__col").find(".building-filter__range").data("max"),N=projectFunc.setRange("area",A,O);projectFunc.rangeSlider("#area",T,I,N[0],N[1],10,"#send-result-area-min","#send-result-area-max",".building-filter__col")}if($("#distance").exists()){var q=$("#distance").closest(".building-filter__col").find(".building-filter__range").data("min"),z=$("#distance").closest(".building-filter__col").find(".building-filter__range").data("max"),H=$("#distance").closest(".building-filter__col").find(".building-filter__range").data("min"),W=$("#distance").closest(".building-filter__col").find(".building-filter__range").data("max"),J=projectFunc.setRange("distance",H,W);projectFunc.rangeSlider("#distance",q,z,J[0],J[1],10,"#send-result-distance-min","#send-result-distance-max",".building-filter__col")}if($(".burger-filter").exists()&&$(".burger-filter").on("click",function(){$(this).toggleClass("burger-filter--active"),$(".building-filter").toggleClass("building-filter--active"),$(this).hasClass("burger-filter--active")?$("html").css("overflow","hidden"):$("html").css("overflow","auto")}),$(".project-period__list").exists()&&$(".project-period__list").mCustomScrollbar({theme:"dark",mouseWheelPixels:90}),$(".btn--call").exists())try{$(".btn--call").on("click",function(){$(".overlay").addClass("overlay--show"),$("html").css("overflow","hidden"),$(".popup").addClass("popup--show")})}catch(e){console.log(e)}if($(window).on("resize load",function(){$(".structure__menu").width($(".structure__items").width())}),$(".structure__map--projects").exists())try{projectFunc.fixMap("#map-projects",".structure__note",".structure__inner")}catch(e){console.log(e)}if($(".structure__map--step-build").exists())try{projectFunc.fixMap("#map-projects",".mf-edge",".structure__inner")}catch(e){console.log(e)}if($(".filter-menu").length>0){var D,U,G,Y=$(".structure__menu li")[$(".group li").length-1];$(Y).find("a").css("padding-right","0px"),$("#example-one").append("<li id='magic-line'></li>");var Z=$("#magic-line");Z.width($(".current_page_item").width()).css("left",$(".current_page_item a").position().left).data("origLeft",Z.position().left).data("origWidth",Z.width()),$("#example-one li a").on("click",function(){D=$(this),U=D.position().left,G=D.parent().width(),Z.stop().animate({left:U,width:G})}),$(".filter-menu li").each(function(){$(this).on("click",function(){$(this).find("input").prop("checked",!0),$(this).find("input").is(":checked")&&$(this).addClass("current_page_item").siblings().removeClass("current_page_item")})})}if(lightGallery(document.getElementById("lightgallery-cer")),lightGallery(document.getElementById("certificate__gallery")),$(".content--project").exists()){var Q=document.querySelector(".content--project");lightGallery(Q,{selector:".project__img"})}if($(".index-content__txt").exists())try{for(var X=document.querySelectorAll(".index-content__txt"),K=0;K<X.length;K++)$clamp(X[K],{clamp:4,useNativeClamp:!1})}catch(e){console.log(e)}if($(".index-project__content").exists()&&$(".index-project__img").exists())try{var ee=new Swiper(".index-project__content",{slidesPerView:1,spaceBetween:10,effect:"fade",fadeEffect:{crossFade:!0},pagination:{el:".project-pagination",clickable:!0}}),te=new Swiper(".index-project__img",{slidesPerView:1,spaceBetween:10,effect:"fade",fadeEffect:{crossFade:!0},navigation:{nextEl:".index-project__link--next",prevEl:".index-project__link--prev"}});ee.controller.control=te,te.controller.control=ee,$(".swiper-wrapper").resize(function(){$(".index__special").height($(".index-content").height())})}catch(e){console.log("Ошибка "+e.name+":"+e.message+"\n"+e.stack)}if($(".index-project__example").exists())try{new Swiper(".index-project__example",{slidesPerView:3,spaceBetween:20,effect:"slide",loop:!0,fadeEffect:{crossFade:!0},navigation:{nextEl:".index-project__arr--next",prevEl:".index-project__arr--prev"}})}catch(e){console.log(e)}if($(".index-certificate__cer").exists())try{new Swiper(".index-certificate__cer",{slidesPerView:4,spaceBetween:42,effect:"slide",loop:!0,autoplay:{delay:5e3,disableOnInteraction:!1},fadeEffect:{crossFade:!0},navigation:{nextEl:".index-project__arr--snext",prevEl:".index-project__arr--sprev"},breakpoints:{922:{slidesPerView:4,spaceBetween:42,autoplay:!1},769:{slidesPerView:4,spaceBetween:42,autoplay:!1},768:{slidesPerView:3,spaceBetween:42,autoplay:!1},601:{autoplay:!1},501:{slidesPerView:3,spaceBetween:42},500:{slidesPerView:2,spaceBetween:8},320:{slidesPerView:2,spaceBetween:8}}})}catch(e){console.log(e)}if($(".index-example__slider").exists())try{var ie=new Swiper(".index-example__slider",{slidesPerView:1,effect:"fade",fadeEffect:{crossFade:!0},navigation:{nextEl:".index-project__arr--ex_next",prevEl:".index-project__arr--ex_prev"},pagination:{el:".inner-slider__num--example",type:"custom",renderCustom:function(e,t,i){return"<span>".concat((""+(t||0)).slice(-2),"</span>")+"/<span>".concat((""+i).slice(-2),"</span>")}},on:{slideChangeTransitionStart:function(){ge(".index-example__slider .swiper-menu",this.activeIndex)},slideChangeTransitionEnd:function(){ge(".index-example__slider .swiper-menu",this.activeIndex)}}});$e(".index-example__slider",ie),$(".index-example__slider .swiper-menu").on("click",".swiper-menu__item",function(){ve(this,".index-example__slider",ie)})}catch(e){console.log(e)}if($(".index-news__slider").exists())try{new Swiper(".index-news__slider",{slidesPerView:3,spaceBetween:40,loop:!0,autoplay:{delay:5e3,disableOnInteraction:!1},pagination:{el:".index-news__pagination",type:"progressbar"},breakpoints:{1920:{slidesPerView:3,spaceBetween:40},769:{slidesPerView:3,spaceBetween:40},640:{slidesPerView:2,spaceBetween:16},501:{slidesPerView:1,spaceBetween:16},320:{slidesPerView:1,spaceBetween:16}}})}catch(e){console.log(e)}if($(".index__slider").exists())try{var ae,se=window.matchMedia("(min-width:641px)"),ne=function(){if(!0!==se.matches)return!1===se.matches?(!!navigator.userAgent.match(/Version\/[\d\.]+.*Safari/)&&$(window).on("resize load",function(){var e=0;$(".index__slider").children().each(function(){e+=$(this).height()}),$(".index__slider").height(e)}),oe()):void 0;void 0!==ae&&ae.destroy(!0,!0)},oe=function(){ae=new Swiper(".index__slider",{slidesPerView:1,spaceBetween:16,a11y:!0,keyboardControl:!0,grabCursor:!0,effect:"slide",slidesPerColumn:3,autoHeight:!0,loop:!0,autoplay:{delay:5e3},pagination:{el:".index__pag",clickable:!0},breakpoints:{1920:{slidesPerColumn:3,spaceBetween:16},640:{slidesPerColumn:1,slidesPerView:1,spaceBetween:16},320:{slidesPerColumn:1,slidesPerView:1,spaceBetween:16}}})};se.addListener(ne),ne()}catch(e){console.log(e)}if($(".button").exists())try{!function(){for(var e=document.querySelectorAll(".button"),t=function(t){e[t].addEventListener("mousemove",function(i){var a=i;this.classList.add("button-bg"),function(e,t){var i=e.getBoundingClientRect(),a=t.clientX-i.left-90,s=t.clientY-i.top-90;e.style.backgroundPosition="0 0,0 0,"+a+"px "+s+"px,0 0"}(e[t],a)}),e[t].addEventListener("mouseleave",function(){this.classList.remove("button-bg")})},i=0;i<e.length;i++)t(i)}()}catch(e){console.log(e)}if($(".index-certificate__unique").exists())try{le("#lightgallery-cer .swiper-slide",".index-certificate__unique"),$(window).on("resize load",function(){le("#lightgallery-cer .swiper-slide",".index-certificate__unique")})}catch(e){console.log(e)}if($(".certificate__cover").exists())try{le(".certificate__slider ",".certificate__cover"),$(window).on("resize load",function(){le(".certificate__slider ",".certificate__cover")})}catch(e){console.log(e)}function le(e,t){var i=$(e).height();$(t).css({height:i+"px"})}if($(".index-example").exists())try{$e(".index-example")}catch(e){console.log(e)}if($(".index-inner").exists())try{$e(".index-inner")}catch(e){console.log(e)}function re(){$("[data-floor]").each(function(){$(this).on("mouseenter",function(){$(".module__row").remove();var e,t,i={},a=(e=$(this),{top:(t=e[0].getBoundingClientRect()).top+pageYOffset,bottom:t.bottom+pageYOffset,left:t.left});$(".module").addClass("module--active");var s=$(this)[0].getBoundingClientRect().height;$(".module").css("top",a.top-$(".header").height()-s/2.9),i.floor=$(this).data("floor"),i.section=$(this).data("section"),$(".module__floor").text("Этаж ".concat(i.floor,",")),$(".module__section").text("секция ".concat(i.section));var n=$(this).data("flat"),o=$(".module__bottom");if(null==n){var l=document.createElement("div");l.setAttribute("class","module__row");var r=document.createElement("div");r.setAttribute("class","module__cell"),r.textContent="Нет квартир на продажу",l.append(r),o.append(l)}Object.keys(n).map(function(e){var t=document.createElement("div");t.setAttribute("class","module__row");var i=document.createElement("div");for(var a in i.setAttribute("class","module__cell"),i.textContent="".concat(e,"-комнатные"),t.append(i),n[e]){var s=document.createElement("div");s.setAttribute("class","module__cell"),s.textContent="price"==a?"от ".concat(n[e][a]," млн"):n[e][a],t.append(s)}o.append(t)})}),$(this).on("mouseleave",function(){$(".module").removeClass("module--active")})})}if($(window).on("load",function(){$(this).width()>=620&&re()}),$("#map").length>0){var ce=function(){for(var e=new Set,t=0;t<_e.length;t++)_e[t].checked&&e.add(_e[t].value);ue.clearLayers();var i=(new L.MarkerClusterGroup).addTo(ue);pe.eachLayer(function(t,a){if(1==e.has(t.feature.properties.name)){var s=t,n=s.feature;s.setIcon(L.icon(n.properties.icon)),i.addLayer(t),L.layerGroup().addTo(de)}else if(1==e.has("all")){var o=t,l=o.feature;o.setIcon(L.icon(l.properties.icon)),i.addLayer(t),L.layerGroup().addTo(de)}})};L.mapbox.accessToken="pk.eyJ1IjoiYWRtaW5zaW5haSIsImEiOiJja2N2czJ2ejcwNzdoMzBtbDVneTh6NTNkIn0.pkiEoq-UDjbqvdDrB_zZCQ";var de=L.mapbox.map("map").setView([53.376457,58.986727],17.95).addLayer(L.mapbox.styleLayer("mapbox://styles/mapbox/light-v10"));de.scrollWheelZoom&&de.scrollWheelZoom.disable();var pe,ue=L.layerGroup().addTo(de);L.mapbox.featureLayer().loadURL("./js/json/markers-project.geojson").on("ready",function(e){pe=e.target,ce(),function(){ue.clearLayers();var e=(new L.MarkerClusterGroup).addTo(ue);pe.eachLayer(function(t,i){var a=t,s=a.feature;a.setIcon(L.icon(s.properties.icon)),e.addLayer(t),L.layerGroup().addTo(de)})}()});for(var _e=document.getElementById("colors").querySelectorAll("input"),fe=0;fe<_e.length;fe++)_e[fe].addEventListener("click",ce)}if(projectFunc.createMap("map-projects",".structure__item"),projectFunc.createMap("map-flat","#map-flat"),projectFunc.createMap("map-contacts","#map-contacts"),$(".form-project__field").exists&&$(".form-project__field").each(function(){var e=this;$(this).on("mousemove",function(){$(e).closest(".form-project__block").addClass("form-project__block--active")}),$(this).on("mouseleave",function(){$(e).is(":focus")||$(e).val()||$(e).closest(".form-project__block").removeClass("form-project__block--active")}),$(this).on("blur",function(){$(this).val()||$(this).closest(".form-project__block").removeClass("form-project__block--active")})}),$(".building-filter__wrp").length>0&&($(".building-filter__wrp").each(function(){$(this).on("click",function(){var e=$(this).parent().toggleClass("building-filter__case--active");$(this).closest(".building-filter__col").siblings().find(".building-filter__case").removeClass("building-filter__case--active"),$(".building-filter__case").each(function(t){$(this)[0]!=e[0]&&$(this)[0].classList.contains("building-filter__case--active")&&$(this)[0].classList.remove("building-filter__case--active")})}),$(this).next(".building-filter__select").mCustomScrollbar({theme:"minimal-dark",mouseWheelPixels:90})}),$(document).click(function(e){var t=$(".building-filter__case");e.target==t[0]||t.has(e.target).length||t.removeClass("building-filter__case--active")})),$(".filter-sort__wrp").length>0&&($(".filter-sort__wrp").each(function(){$(this).on("click",function(){$(this).parent().toggleClass("filter-sort__case--active")}),$(this).next(".filter-sort__select").mCustomScrollbar({theme:"dark",mouseWheelPixels:90})}),$(document).click(function(e){var t=$(".filter-sort__case");e.target==t[0]||t.has(e.target).length||t.removeClass("filter-sort__case--active")})),$(".filter-sort__unit").exists()&&$(".filter-sort__unit").each(function(){$(this).on("click",function(){$(".filter-sort__text").text($(this).text()),$(".filter-sort__case").removeClass("filter-sort__case--active"),$(this).find("input").data("period")})}),$(".building-filter__unit").length>0&&$(".building-filter__unit").each(function(){$(this).one("click",function(){$(this).closest(".building-filter__case").find(".building-filter__text").text($(this).text()),$(".building-filter__case").removeClass("building-filter__case--active");var e={};e.id=$(this).closest(".building-filter__col").data("id"),e.title=$(this).text(),projectFunc.arrTitle.push(e),localStorage.setItem("titleCol",JSON.stringify(projectFunc.arrTitle))})}),$(".project-period__bloc").length>0&&$(".project-period__bloc").each(function(){$(this).on("click",function(){$(this).parent().toggleClass("project-period__box--active"),$(this).closest(".building-filter__col").siblings().find(".project-period__box").removeClass("project-period__box--active")})}),$(document).click(function(e){var t=$(".project-period__box");e.target==t[0]||t.has(e.target).length||t.removeClass("project-period__box--active")}),$(".menu-content__inner").exists())try{$('a[href^="#"]').click(function(){var e=$(this).attr("href");$("html, body").animate({scrollTop:$(e).offset().top-130},600)});var me={el_menu:".menu-content__inner:eq(0)",init:function(){me.menu(),$(document).scroll(function(){me.scolling()})},menu:function(){me.links_arr=[],$(me.el_menu+" a").each(function(e){if($(this).attr("href")&&-1!=$(this).attr("href").indexOf("#")){var t=$(this).attr("href").indexOf("#"),i=$(this).attr("href").length,a=$(this).attr("href").substr(t,i);me.links_arr[e]=$(this).attr("href")+"::"+a}})},scolling:function(){me.links_arr.forEach(function(e){var t=e.split("::");if(me.inWindow(""+t[1]).length>0)return $(".menu-content__li").removeClass("menu-content__li--active"),$('a[href="'+t[0]+'"]').addClass("menu-content__li--active"),!1})},inWindow:function(e){var t=$(window).scrollTop()-70,i=$(window).height(),a=$(e),s=[];return a.each(function(){var e=$(this),a=e.offset();t<=a.top&&e.height()+a.top<t+i&&s.push(this)}),$(s)}};me.init()}catch(e){console.log(e)}function he(e,t,i){if($(e).exists())try{if(i){var a=$(window),s=$(t),n=s.offset().top;a.on("scroll",function(){if((window.pageYOffset||document.documentElement.scrollTop)>n)return s.addClass("mf-fixed"),void((wt+wh>=et||wh+wt==dh||eh+et<wh)&&s.removeClass("mf-fixed"));s.removeClass("mf-fixed")})}else $target.removeClass("mf-fixed")}catch(e){console.log(e)}}function $e(e,t){var i=document.querySelector(e),a=t.slides.length,s=i.querySelectorAll(".swiper-menu");if(a>0)for(var n=0;n<s.length;n++)for(var o=0;o<a;o++){var l=document.createElement("div");l.classList.add("swiper-menu__item"),l.setAttribute("data-index",o),0==o&&l.classList.add("swiper-menu__item--active"),s[n].appendChild(l)}}function ve(e,t,i){var a=$(e).data("index");i.slideTo(a);$(t).find(".swiper-menu__item");ge(i,a)}function ge(e,t){var i=$(e).find(".swiper-menu__item");$(i).each(function(){$(this).data("index")==t&&$(this).addClass("swiper-menu__item--active").siblings().removeClass("swiper-menu__item--active")})}if($(window).on("resize load",function(){$(this).width()>922&&he(".menu-content",".menu-content__inner",!0)}),he(".mf-move",".structure__inner",!0),$(".project-map__item").exists()&&$(".project-map__item").each(function(){$(this).on("click",function(){$(this).find("input").is(":checked")?$(this).addClass("project-map__item--active"):$(this).removeClass("project-map__item--active")})}),$(".js-slider-flat").exists())try{var we=new Swiper(".js-slider-flat",{slidesPerView:1,effect:"fade",fadeEffect:{crossFade:!0},navigation:{nextEl:".arr--next",prevEl:".arr--prev"},pagination:{el:".js-slider-flat .pagination",type:"custom",renderCustom:function(e,t,i){return'<span class="mf-num">'.concat((""+(t||0)).slice(-2),"</span>")+'<span class="mf-txt">Этаж</span>'}}});setTimeout(function(){return $(".slider-flats").css("opacity","1")},500);var xe=new Swiper(".js-slider-flat-info",{slidesPerView:1,effect:"fade",fadeEffect:{crossFade:!0}});we.controller.control=xe,xe.controller.control=we}catch(e){console.log(e)}if($(".inner-slider").exists())try{var be=new Swiper(".inner-slider",{slidesPerView:1,spaceBetween:10,effect:"fade",fadeEffect:{crossFade:!0},navigation:{nextEl:".inner-slider__link--next",prevEl:".inner-slider__link--prev"},pagination:{el:".inner-slider__num",type:"custom",renderCustom:function(e,t,i){return"<span>".concat((""+(t||0)).slice(-2),"</span>")+"/<span>".concat((""+i).slice(-2),"</span>")}},on:{slideChangeTransitionStart:function(){ge(".inner-slider .swiper-menu",this.activeIndex)},slideChangeTransitionEnd:function(){ge(".inner-slider .swiper-menu",this.activeIndex)}}});$e(".inner-slider",be),$(".inner-slider .swiper-menu").on("click",".swiper-menu__item",function(){ve(this,".inner-slider",be)})}catch(e){console.log("Ошибка "+e.name+":"+e.message+"\n"+e.stack)}if($(".flats-basic__nav").exists())try{$(".flats-basic__nav").mCustomScrollbar({theme:"minimal-dark",mouseWheelPixels:400,mouseWheel:{preventDefault:!0}})}catch(e){console.log(e)}if($(".flats-basic__floor").exists())for(var ke=document.querySelectorAll(".flats-basic__floor .hover g"),ye=document.querySelectorAll(".flats-basic__floor .default g"),je=0;je<ke.length;je++)ke[je].setAttribute("id","h"+je),ye[je].setAttribute("id","d"+je),ke[je].onclick=projectFunc.linkFloors,ke[je].classList.contains("active")||ke[je].classList.contains("current")?ye[je].classList.add("hide"):ke[je].classList.add("hide");if($(".plate-box__slider").exists()&&$(".plate-control").exists())try{var Ce=$(".plate-control"),Pe=!1;$(window).on("resize load",function(){$(this).width()<=992&&($("#insert").append($(Ce)),$(".plate-box__list").next(".plate-control").remove(),Pe=!0),$(this).width()>992&&Pe&&($(".plate-box__list").after(Ce),$("#insert").children().remove(),Pe=!1),$(this).width()<=768&&(projectFunc.ObjAd("#insert","#control-laptop"),!0),$(this).width()>768&&$(this).width()<992&&Pe&&($(".flats-basic__filter").after(Ce),$("#control-laptop").children().remove(),!1)})}catch(e){console.log(e)}});